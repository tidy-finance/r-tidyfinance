% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/join_lagged_values.R
\name{join_lagged_values}
\alias{join_lagged_values}
\title{Join lagged variable values over a date range}
\usage{
join_lagged_values(
  original_data,
  new_data,
  id_keys,
  id_date = "date",
  min_lag,
  max_lag,
  ff_adjustment = FALSE
)
}
\arguments{
\item{original_data}{A data frame containing the original panel data.}

\item{new_data}{A data frame containing the variables to lag and merge.}

\item{id_keys}{A character vector specifying the identifier column(s).}

\item{id_date}{A string giving the date column name (default: \code{"date"}).}

\item{min_lag}{A \code{lubridate::Period} specifying the lower lag bound.}

\item{max_lag}{A \code{lubridate::Period} specifying the upper lag bound.}

\item{ff_adjustment}{Logical; if \code{TRUE}, applies a Fama–French year adjustment.}
}
\value{
A data frame with lagged columns from \code{new_data} joined to \code{original_data}.
}
\description{
\ifelse{html}{\href{https://lifecycle.r-lib.org/articles/stages.html#experimental}{\figure{lifecycle-experimental.svg}{options: alt='[Experimental]'}}}{\strong{[Experimental]}}

Joins lagged values of selected variables from one dataset (\code{new_data})
into another (\code{original_data}), based on date ranges defined by \code{min_lag}
and \code{max_lag}. Optionally applies a Fama–French style year-based adjustment.
}
\examples{
library(dplyr)
library(lubridate)

df1 <- tibble(
  id = rep(1:2, each = 6),
  date = rep(seq(as.Date("2020-01-01"), by = "month", length.out = 6), 2)
)

df2 <- df1 |>
  mutate(x = rnorm(n()))

join_lagged_values(
  original_data = df1,
  new_data = df2,
  id_keys = "id",
  min_lag = months(1),
  max_lag = months(3)
)
}
